(function(t){function e(e){for(var r,i,s=e[0],u=e[1],c=e[2],l=0,d=[];l<s.length;l++)i=s[l],o[i]&&d.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},o={app:0},a=[];function i(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a08dc33c"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=o[t]=[e,r]});e.push(n[2]=r);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(t),a=function(e){u.onerror=u.onload=null,clearTimeout(c);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[t]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:u})},12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"026d":function(t,e,n){},"0400":function(t,e,n){},"0833":function(t,e,n){"use strict";var r=n("d0bb"),o=n.n(r);o.a},1905:function(t,e,n){"use strict";var r=n("1fe3"),o=n.n(r);o.a},"1fe3":function(t,e,n){},"2cc5":function(t,e,n){"use strict";var r=n("f3f4"),o=n.n(r);o.a},"33bc":function(t,e,n){"use strict";var r=n("026d"),o=n.n(r);o.a},"39fc":function(t,e,n){"use strict";var r=n("5a85"),o=n.n(r);o.a},"404c":function(t,e,n){},"4a96":function(t,e,n){},"4c3f":function(t,e,n){"use strict";var r=n("404c"),o=n.n(r);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=n("ce5b"),a=n.n(o),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("v-app",{attrs:{dark:t.darkMode}},[r("v-toolbar",{attrs:{app:"","scroll-toolbar-off-screen":""}},[r("v-toolbar-items",[r("router-link",{attrs:{to:"/"}},[r("img",{attrs:{src:n("aa17"),alt:"Bafouille logo",width:"150",to:"/"}})])],1),r("v-spacer"),r("AccountMenu")],1),r("v-content",[r("v-container",{attrs:{fluid:""}},[r("Notifications"),r("transition",{attrs:{name:"fade"}},[r("router-view")],1)],1)],1)],1)],1)},s=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{attrs:{timeout:"3000"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v("\n  "+t._s(t.message)+"\n")])},c=[],l={data:function(){return{show:!1,message:"ca marche !"}},created:function(){var t=this;this.$store.watch(function(t){return t.notifications.notificationText},function(){var e=t.$store.state.notifications.notificationText;""!==e&&(t.show=!0,t.message=t.$store.state.notifications.notificationText,t.$store.commit("setNotification",""))})}},f=l,d=n("2877"),p=Object(d["a"])(f,u,c,!1,null,null,null),m=p.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-xs-center"},[n("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({},r),[t._v("Menu")])]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-card",[n("v-list",[n("v-list-tile",[n("v-list-tile-content",[n("v-btn",{attrs:{flat:"",to:"/play"}},[t._v("Play !")])],1)],1),n("v-list-tile",[n("v-list-tile-content",[t.isLoggedIn?t._e():n("v-btn",{attrs:{flat:"",to:"/signup"}},[t._v("Sign up")]),t.isLoggedIn?n("v-btn",{attrs:{flat:"",to:"/actions"}},[t._v("Action !")]):t._e()],1)],1),n("v-list-tile",[n("v-list-tile-content",[t.isLoggedIn?t._e():n("v-btn",{attrs:{flat:"",to:"/signin"}},[t._v("Sign in")]),t.isLoggedIn?n("v-btn",{attrs:{flat:""}},[n("a",{on:{click:t.logout}},[t._v("Logout")])]):t._e()],1)],1)],1)],1)],1)],1)},g=[],h={name:"AccountMenu",components:{},data:function(){return{menu:!1,message:!1}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},darkMode:function(){return this.$store.getters.darkMode}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.$router.push("/signin")})},setDarkMode:function(){this.$store.commit("setDarkMode")}}},b=h,_=Object(d["a"])(b,v,g,!1,null,null,null),y=_.exports,w={components:{AccountMenu:y,Notifications:m},data:function(){return{goDark:!1}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},darkMode:function(){return this.$store.getters.darkMode}}},k=w,x=(n("5c0b"),Object(d["a"])(k,i,s,!1,null,null,null)),O=x.exports,P=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},j=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",{attrs:{id:"bafouille"}},[t._v("Bafouille")]),n("h2",{attrs:{id:"homepage"}},[t._v("Homepage")]),t._m(0),n("v-card",[n("v-card-text",[n("p",[t._v("Craving for well crafted letters ? Overfed with pictures ? Missing genuine link with a real person ? Tired of playing a game ?")]),n("p",[t._v("You are on a text-based dating* web app.")]),n("p",[t._v("You can't post pictures.")]),n("p",[t._v("You can't chat.")]),n("p",[t._v("(Unless you're corresponding with a bot, there's a 24 hours waiting period.)")]),n("p",[t._v("You can't search or filter profiles.")]),n("p",[t._v("(There is no search bar but we can analyze your profile characteristics and show you only relevant profiles)")]),n("p",[t._v("It's free*")]),n("p",[t._v("Well, nothing is free in life. It's free for you, but "),n("em",[t._v("I")]),t._v(" have to pay the server bills.")]),n("p",[t._v("You can also have a look at the MIT licensed "),n("a",{attrs:{href:"github.com/rmarronnier/bafouille-pwa"}},[t._v("front-end code")]),t._v(". Release of the back-end code is for later. Promised !")]),n("p",[t._v("(and we won't sell your data. we will delete it if you don't use your account for 30 days though).")]),n("p",[t._v("Sign me up (or sign in with an existing account)")]),n("p",[t._v("Or... receive bot generated missives in our playground (no sign up required !)")]),t.isLoggedIn?t._e():n("v-btn",{attrs:{"x-large":"",to:"/signup"}},[t._v("Sign up")]),n("hr"),n("p",[t._v("Made with :coffee:, :baguette_bread: and :cheese: by "),n("a",{attrs:{href:"remy.marronnier.dev"}},[t._v("RÃ©my Marronnier")])])],1)],1)],1)},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("blockquote",[n("p",[t._v("[bafuje] "),n("em",[t._v("Arg. f.")]),t._v("  Lettre, missive. Synon. "),n("em",[t._v("babille, babillarde, bafouillarde")])])])}],E={name:"HelloWorld",computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}}},M=E,q=(n("8ccb"),Object(d["a"])(M,S,L,!1,null,"8fc7ee6c",null)),C=q.exports,N={name:"home",components:{HelloWorld:C}},B=N,T=Object(d["a"])(B,$,j,!1,null,null,null),U=T.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"read"},[n("v-tabs",{attrs:{centered:"","slider-color":"black"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[n("v-tab",[t._v("\n          Read Profiles\n        ")]),n("v-tab",[t._v("\n          Your matches\n        ")]),n("v-tab",[t._v("\n          Edit your profile\n        ")])],1),n("div",{key:t.profile.id},[n("v-card",[n("Reachout",{attrs:{profile:t.profile.id}}),n("Blockout",{attrs:{profile:t.profile.id}}),n("v-card-text",{staticClass:"profile"},[t._v(t._s(t.profile.body))])],1)],1)],1)},I=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.reachout(e)}}},[n("v-btn",{staticClass:"reachbutton",attrs:{color:"transparent","x-large":"",bottom:"",left:"",fixed:"",fab:"",type:"submit"},model:{value:t.profile,callback:function(e){t.profile=e},expression:"profile"}},[n("v-icon",{staticClass:"reachblock",attrs:{small:""}},[t._v("Reachout !")])],1)],1)},G=[],R=(n("c5f6"),{name:"Reachout",props:{profile:Number},data:function(){return{user_id:this.profile}},methods:{reachout:function(){var t={user_id:this.profile};this.$store.dispatch("reachOut",JSON.stringify(t))}}}),A=R,J=(n("77bb"),Object(d["a"])(A,W,G,!1,null,"f6e48778",null)),Y=J.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.blockout(e)}}},[n("v-btn",{staticClass:"blockbutton",attrs:{color:"red",dark:"",small:"",fixed:"",bottom:"",right:"",fab:"",type:"submit"},model:{value:t.profile,callback:function(e){t.profile=e},expression:"profile"}},[n("v-icon",[t._v("Blockout !")])],1)],1)},F=[],V={name:"Blockout",props:{profile:Number},data:function(){return{user_id:this.profile}},methods:{blockout:function(){var t={user_id:this.profile};this.$store.dispatch("blockOut",JSON.stringify(t))}}},z=V,K=(n("1905"),Object(d["a"])(z,H,F,!1,null,"6e89e24b",null)),Q=K.exports,X={name:"Read",computed:{profile:function(){return this.$store.getters.profiles[0]}},components:{Reachout:Y,Blockout:Q}},Z=X,tt=(n("0833"),Object(d["a"])(Z,D,I,!1,null,null,null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Pairs")},rt=[],ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"pairs"},[n("v-list",{attrs:{subheader:""}},t._l(t.pairs,function(e){return n("v-list-tile",{key:e.id},[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.created_at))]),n("v-list-tile-sub-title",[t._v("\n              "+t._s(e.users[0].body)+"\n              ")])],1),n("v-list-tile-action",[n("MessagesDialog",{attrs:{pair:e}})],1),n("v-list-tile-action",[n("v-icon",{attrs:{color:"red"},on:{click:function(n){return t.blockout(e.users[0].id)}}},[t._v("mdi-delete")])],1)],1)}),1)],1)},at=[],it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"content-class":"correspondence",fullscreen:"",transition:"dialog-bottom-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-badge",{attrs:{inline:""},scopedSlots:t._u([{key:"badge",fn:function(){return[n("span",[t._v(t._s(t.pair.messages.length))])]},proxy:!0}],null,!0)},[n("v-icon",t._g({},r),[t._v("mdi-chat")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-btn",{attrs:{fixed:"",fab:""},on:{click:function(e){t.dialog=!1}}},[n("v-icon",{attrs:{"x-large":"",color:"black"}},[t._v("\n            mdi-close\n          ")])],1),n("MoodGraph",{attrs:{messages:t.pair.messages}}),n("Messages",{attrs:{messages:t.pair.messages}}),n("WriteMessage",{attrs:{pair_id:t.pair.id}})],1)},st=[],ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-timeline",{attrs:{dense:t.$vuetify.breakpoint.smAndDown}},t._l(t.messages,function(e){return n("v-timeline-item",{key:e.id,attrs:{color:"red lighten-2",large:""},scopedSlots:t._u([{key:"opposite",fn:function(){return[n("span",[t._v(t._s(e.created_at))])]},proxy:!0}],null,!0)},[n("v-card",{staticClass:"elevation-2"},[n("v-card-text",{staticClass:"message"},[t._v("\n          "+t._s(e.body)+"\n        ")])],1)],1)}),1)],1)},ct=[],lt={name:"Messages",props:{messages:Object}},ft=lt,dt=(n("acac"),Object(d["a"])(ft,ut,ct,!1,null,"3786a31e",null)),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container ui grid"},[n("h1",[t._v("Write your message")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.sendmessage(e)}}},[n("v-textarea",{attrs:{solo:"","auto-grow":"",autofocus:"",name:"body",label:"Write your inner thoughs or useless chitchat"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}}),n("v-btn",{attrs:{flat:"",type:"submit"}},[t._v("Send !")])],1),n("v-btn",{attrs:{flat:"",to:"/pairs"}},[t._v("Don't want to write yet?")])],1)},vt=[],gt={name:"WriteMessage",props:{pair_id:Number},data:function(){return{body:""}},methods:{sendmessage:function(){var t={body:this.body,pair_id:this.pair_id};this.$store.dispatch("postMessage",JSON.stringify(t)).catch(function(t){return t})}}},ht=gt,bt=Object(d["a"])(ht,mt,vt,!1,null,"5861b28e",null),_t=bt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-sparkline",{attrs:{value:t.moodValues,gradient:t.gradient,smooth:t.radius||!1,padding:t.padding,"line-width":t.width,"stroke-linecap":t.lineCap,"gradient-direction":t.gradientDirection,fill:t.fill,type:t.type,"auto-line-width":t.autoLineWidth,"auto-draw":""}})],1)},wt=[],kt=(n("456d"),n("ac6a"),[["#222"],["#42b3f4"],["red","orange","yellow"],["purple","violet"],["#00c6ff","#F0F","#FF0"],["#f72047","#ffd200","#1feaea"]]),xt={name:"MoodGraph",props:{messages:Object},data:function(){return{width:2,radius:10,padding:8,lineCap:"round",gradient:kt[5],gradientDirection:"top",gradients:kt,fill:!1,type:"trend",autoLineWidth:!1}},beforeUpdate:{moodValues:function(){var t=[];return Object.keys(this.messages).forEach(function(e){"sentiment_score"==e&&t.push(this.messages[e])}),t}}},Ot=xt,Pt=Object(d["a"])(Ot,yt,wt,!1,null,"12be71e4",null),$t=Pt.exports,jt={name:"MessagesDialog",props:{pair:Object},data:function(){return{dialog:!1}},computed:{pairs:function(){return this.$store.getters.pairs}},components:{Messages:pt,WriteMessage:_t,MoodGraph:$t}},St=jt,Lt=(n("2cc5"),Object(d["a"])(St,it,st,!1,null,null,null)),Et=Lt.exports,Mt={name:"Pairs",computed:{pairs:function(){return this.$store.getters.pairs}},data:function(){return{notifications:!1}},methods:{blockout:function(t){var e={user_id:t};this.$store.dispatch("blockOut",JSON.stringify(e))}},components:{MessagesDialog:Et}},qt=Mt,Ct=Object(d["a"])(qt,ot,at,!1,null,null,null),Nt=Ct.exports,Bt={name:"pairs",components:{Pairs:Nt}},Tt=Bt,Ut=Object(d["a"])(Tt,nt,rt,!1,null,null,null),Dt=Ut.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"actions"},[n("v-tabs",{attrs:{grow:"","slider-color":"black"}},[n("v-tab",{attrs:{href:"#tab-1"}},[n("v-badge",{attrs:{inline:""},scopedSlots:t._u([{key:"badge",fn:function(){return[n("span",[t._v(t._s(t.profiles_quantity))])]},proxy:!0}])},[t._v("\n        Profiles\n                ")])],1),n("v-tab",{attrs:{href:"#tab-2"}},[n("v-badge",{attrs:{inline:""},scopedSlots:t._u([{key:"badge",fn:function(){return[n("span",[t._v(t._s(t.pairs_quantity))])]},proxy:!0}])},[t._v("Matches\n      ")])],1),n("v-tab",{attrs:{href:"#tab-3"}},[t._v("Your profile")]),n("v-tab-item",{attrs:{value:"tab-1"}},[t.profiles_quantity>0?n("ReadProfiles"):n("NoProfile")],1),n("v-tab-item",{attrs:{value:"tab-2"}},[t.pairs_quantity>0?n("Pairs"):n("NoMatch")],1),n("v-tab-item",{attrs:{value:"tab-3"}},[n("WriteBody")],1)],1)],1)},Wt=[],Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"read"},[n("div",{key:t.profile.id},[n("v-card",[n("Reachout",{attrs:{profile:t.profile.id}}),n("Blockout",{attrs:{profile:t.profile.id}}),n("v-card-text",{staticClass:"profile"},[t._v(t._s(t.profile.body))])],1)],1)])},Rt=[],At={name:"ReadProfiles",computed:{profile:function(){return this.$store.getters.profiles[0]}},components:{Reachout:Y,Blockout:Q}},Jt=At,Yt=(n("4c3f"),Object(d["a"])(Jt,Gt,Rt,!1,null,null,null)),Ht=Yt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container ui grid"},[n("h1",[t._v("Write your profile")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.updatebody(e)}}},[n("v-textarea",{attrs:{solo:"","auto-grow":"",autofocus:"",name:"body",label:t.body,value:t.body},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}}),n("v-btn",{attrs:{flat:"",type:"submit"}},[t._v("Save !")])],1)])},Vt=[],zt={name:"WriteBody",data:function(){return{body:""}},created:function(){this.body=this.$store.getters.user_body},methods:{updatebody:function(){var t={body:this.body};this.$store.dispatch("changeBody",t),this.$router.push("/actions")}}},Kt=zt,Qt=(n("bef0"),Object(d["a"])(Kt,Ft,Vt,!1,null,"6f60a7f0",null)),Xt=Qt.exports,Zt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},te=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("p",[t._v("No match for you !")])])}],ee={name:"NoMatch"},ne=ee,re=Object(d["a"])(ne,Zt,te,!1,null,null,null),oe=re.exports,ae=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ie=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("p",[t._v("Nothing to read (yet) for you !")])])}],se={name:"NoProfile"},ue=se,ce=Object(d["a"])(ue,ae,ie,!1,null,null,null),le=ce.exports,fe={name:"Actions",components:{ReadProfiles:Ht,Pairs:Nt,WriteBody:Xt,NoMatch:oe,NoProfile:le},computed:{pairs_quantity:function(){return this.$store.getters.pairs_quantity},profiles_quantity:function(){return this.$store.getters.profiles_quantity}}},de=fe,pe=Object(d["a"])(de,It,Wt,!1,null,"348c3238",null),me=pe.exports,ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signup"},[n("SignUp")],1)},ge=[],he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container ui grid"},[n("h1",[t._v("Sign Up")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[n("div",{staticClass:"form-group"},[n("v-text-field",{attrs:{name:"email",type:"email",hint:"For example : epresley@area51.us. Note : your email adress won't be sold / communicated to anyone. It's just to eventually save this place from an onslaught of bots.",required:"",label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("div",{staticClass:"form-group"},[n("v-text-field",{attrs:{name:"password",type:"password",hint:"At least 8 characters. For example : 12345678. No, seriously choose something harder to guess, but in anycase DON'T CHOOSE A PASSWORD USED ELSEWHERE !",required:"",counter:"",rules:[t.rules.required,t.rules.min],label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-text-field",{attrs:{type:"password",required:"",counter:"",rules:[t.rules.required,t.rules.min],label:"Confirm Password"},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}})],1),n("v-btn",{attrs:{flat:"",type:"submit"}},[t._v("Sign up")])],1),n("hr"),n("v-btn",{attrs:{flat:"",to:"/signin"}},[t._v("Already have an account?")])],1)},be=[],_e={name:"SignUp",data:function(){return{email:"",password:"",password_confirmation:"",rules:{required:function(t){return!!t||"Required."},min:function(t){return t.length>=8||"Min 8 characters"},emailMatch:function(){return"The email and password you entered don't match"}}}},methods:{register:function(){var t=this,e={email:this.email,password:this.password};this.$store.dispatch("register",e).then(function(){return t.$router.push("/write")})}}},ye=_e,we=Object(d["a"])(ye,he,be,!1,null,"84560604",null),ke=we.exports,xe={name:"signuppage",components:{SignUp:ke}},Oe=xe,Pe=Object(d["a"])(Oe,ve,ge,!1,null,null,null),$e=Pe.exports,je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signin"},[n("SignIn")],1)},Se=[],Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container ui grid"},[n("h1",[t._v("Sign In")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[n("div",{staticClass:"form-group"},[n("v-text-field",{attrs:{name:"email",type:"email",required:"",autofocus:"",label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("div",{staticClass:"form-group"},[n("v-text-field",{attrs:{name:"password",type:"password",hint:"If you forgot it, you're SOL. Sorry.",required:"",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-btn",{attrs:{flat:"",type:"submit"}},[t._v("Sign In")])],1),n("v-btn",{attrs:{flat:"",to:"/signup"}},[t._v("Don't have an account yet?")])],1)},Ee=[],Me={name:"SignIn",data:function(){return{email:"",password:""}},methods:{signin:function(){var t=this,e=this.email,n=this.password;this.$store.dispatch("signin",{email:e,password:n}).then(function(){return t.$router.push("/actions")}).catch(function(t){return t})}}},qe=Me,Ce=(n("39fc"),Object(d["a"])(qe,Le,Ee,!1,null,"7e7e7e95",null)),Ne=Ce.exports,Be={name:"signinpage",components:{SignIn:Ne}},Te=Be,Ue=Object(d["a"])(Te,je,Se,!1,null,null,null),De=Ue.exports,Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"WriteBody"},[n("WriteBody")],1)},We=[],Ge={name:"Write",components:{WriteBody:Xt}},Re=Ge,Ae=Object(d["a"])(Re,Ie,We,!1,null,null,null),Je=Ae.exports,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"actions"},[n("v-tabs",{attrs:{grow:"","slider-color":"black"}},[n("v-tab",{attrs:{href:"#tab-1"}},[t._v("Your text")]),n("v-tab",{attrs:{href:"#tab-2"}},[n("v-badge",{attrs:{inline:""}},[t._v("\n          Letters\n                  ")])],1),n("v-tab-item",{attrs:{value:"tab-1"}},[n("GuestBody")],1),n("v-tab-item",{attrs:{value:"tab-2"}},[t.letters_quantity?n("ReadLetters"):n("NoProfile")],1)],1)],1)},He=[],Fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container ui grid"},[n("h1",[t._v("Write whatever is on your mind")]),n("form",[n("v-textarea",{attrs:{solo:"","auto-grow":"",autofocus:"",name:"body",label:t.body,value:t.body},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}}),n("v-btn",{attrs:{flat:"",type:"submit"},on:{click:function(e){return t.updatebody("getLetters")}}},[t._v("Get relevant letters")]),n("v-btn",{attrs:{flat:"",type:"submit"},on:{click:function(e){return t.updatebody("getLettersByReadability")}}},[t._v("Get readable letters")]),n("v-btn",{attrs:{flat:"",type:"submit"},on:{click:function(e){return t.updatebody("getLettersBySentiment")}}},[t._v("Get mood-based letters")])],1)])},Ve=[],ze={name:"GuestBody",data:function(){return{body:""}},created:function(){this.body=this.$store.getters.guest_body},methods:{updatebody:function(t){var e={body:this.body};this.$store.dispatch(t,e),this.$router.push("/play")}}},Ke=ze,Qe=(n("c339"),Object(d["a"])(Ke,Fe,Ve,!1,null,"3f1c6381",null)),Xe=Qe.exports,Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"read"},[n("div",{key:t.letter[0].id},[n("v-card",[n("NextLetterButton"),n("v-card-text",{staticClass:"letter"},[n("p",[t._v("\n           "+t._s(t.letter[0].body)+"\n           ")])])],1)],1)])},tn=[],en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.next(e)}}},[n("v-btn",{staticClass:"nextbutton",attrs:{color:"transparent","x-large":"",bottom:"",right:"",fixed:"",fab:"",type:"submit"},model:{value:t.profile,callback:function(e){t.profile=e},expression:"profile"}},[n("v-icon",{staticClass:"reachblock",attrs:{small:""}},[t._v("Next !")])],1)],1)},nn=[],rn={name:"NextLetterButton",methods:{next:function(){this.$store.commit("nextLetter")}}},on=rn,an=(n("9efa"),Object(d["a"])(on,en,nn,!1,null,"bdd0796e",null)),sn=an.exports,un={name:"ReadLetters",computed:{letter:function(){return this.$store.getters.guest_letters}},components:{NextLetterButton:sn}},cn=un,ln=(n("33bc"),Object(d["a"])(cn,Ze,tn,!1,null,null,null)),fn=ln.exports,dn={name:"Play",components:{GuestBody:Xe,ReadLetters:fn},computed:{letters_quantity:function(){return this.$store.getters.guest_letters}}},pn=dn,mn=Object(d["a"])(pn,Ye,He,!1,null,"4e2f0742",null),vn=mn.exports;r["default"].use(P["a"]);var gn=new P["a"]({routes:[{path:"/",name:"home",component:U},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/read",name:"read",component:et,meta:{requiresAuth:!0}},{path:"/pairs",name:"pairs",component:Dt,meta:{requiresAuth:!0}},{path:"/signup",name:"signuppage",component:$e},{path:"/write",name:"write",component:Je},{path:"/signin",name:"signinpage",component:De},{path:"/actions",name:"actions",component:me},{path:"/play",name:"play",component:vn}]}),hn=n("2f62"),bn=n("bfa9"),_n="https://www.bafouille.org/api/";function yn(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(n){case"signin":t="session",e="POST";break;case"register":t="registration",e="POST";break;case"logout":t="signout",e="GET";break;case"changebody":t="write",e="PATCH";break;case"getprofiles":t="profiles",e="GET";break;case"reachout":t="reach",e="POST";break;case"blockout":t="blockout",e="POST";break;case"getpairs":t="pairs",e="GET";break;case"postmessage":t="pair",e="POST";break;case"getletters":t="letters",e="POST";break;case"getlettersbyreadability":t="letters/readability",e="POST";break;case"getlettersbysentiment":t="letters/sentiment",e="POST";break;default:t="me",e="GET";break}return fetch(_n.concat(t),{credentials:"include",method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:r})}var wn=yn,kn={state:{status:"",isLoggedIn:!1,lastUpdate:0},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t){t.status="logged_in",t.isLoggedIn=!0,t.lastUpdate=Date.now()},auth_error:function(t){t.status="login_error",t.isLoggedIn=!1,t.lastUpdate=Date.now()},logout_request:function(t){t.status="logging_out"},logout_success:function(t){t.status="logged_out",t.isLoggedIn=!1,t.lastUpdate=Date.now()},logout_error:function(t){t.status="logout_error"}},actions:{signin:function(t,e){var n=t.commit,r=t.dispatch;return new Promise(function(t,o){n("auth_request"),wn("signin",JSON.stringify(e)).then(function(t){return t.json()}).then(function(e){n("auth_success"),n("updateUser",e.data),r("getProfiles"),r("getPairs"),t(e)}).catch(function(t){n("auth_error"),o(t)})})},register:function(t,e){t.dispatch;var n=t.commit;return new Promise(function(t,r){n("auth_request"),wn("register",JSON.stringify(e)).then(function(t){return t.json()}).then(function(e){n("auth_success"),n("updateUser",e.data),t(e)}).catch(function(t){n("auth_error",t),r(t)})})},logout:function(t){t.dispatch;var e=t.commit;return new Promise(function(t,n){e("logout_request"),wn("logout").then(function(n){e("logout_success"),t(n)}).catch(function(t){e("logout_error",t),n(t)})})}},getters:{authStatus:function(t){return t.status},isLoggedIn:function(t){return t.isLoggedIn},authLastUpdate:function(t){return t.lastUpdate}}},xn={state:{id:Number,body:"You'd better change me !",bodyHTML:"<p>You'd better change me !</p>",lastUpdate:0},mutations:{updateUser:function(t,e){t.id=e.id,t.body=e.body,t.lastUpdate=Date.now()},updateBody:function(t,e){t.body=e,t.lastUpdate=Date.now()},updateBodyHTML:function(t,e){t.bodyHTML=e,t.lastUpdate=Date.now()}},actions:{changeBody:function(t,e){var n=t.commit,r=t.dispatch;return new Promise(function(t,o){wn("changebody",JSON.stringify(e)).then(function(t){return t.json()}).then(function(e){n("updateBody",e.data.body),r("getProfiles"),r("getPairs"),t(e)}).catch(function(t){o(t)})})}},getters:{user_id:function(t){return t.id},user_body:function(t){return t.body},user_body_html:function(t){return t.bodyHTML},userLastUpdate:function(t){return t.lastUpdate}}},On={quantity:0,current:{},lastUpdate:0},Pn={updateProfiles:function(t,e){t.current=e,t.quantity=t.current.length,t.lastUpdate=Date.now()},removeProfile:function(t,e){t.current.splice(e,1),t.quantity=t.current.length}},$n={getProfiles:function(t){var e=t.commit;t.dispatch;return new Promise(function(t,n){wn("getprofiles").then(function(t){return t.json()}).then(function(n){e("updateProfiles",n.data),t(n)}).catch(function(t){n(t)})})},reachOut:function(t,e){var n=t.commit,r=t.dispatch;return new Promise(function(t,o){wn("reachout",e).then(function(t){return t.json()}).then(function(o){n("removeProfile",e),r("cleanPairs",o.data),t(o)}).catch(function(t){o(t)})})},blockOut:function(t,e){var n=t.commit,r=t.dispatch;return new Promise(function(t,o){wn("blockout",e).then(function(t){return t.json()}).then(function(o){n("removeProfile",e),r("cleanPairs",o.data),t(o)}).catch(function(t){o(t)})})}},jn={profiles:function(t){return t.current},profiles_quantity:function(t){return t.quantity},profilesLastUpdate:function(t){return t.lastUpdate}},Sn={state:On,mutations:Pn,actions:$n,getters:jn},Ln={state:{quantity:0,current:{},lastUpdate:0},mutations:{updatePairs:function(t,e){t.current=e,t.quantity=t.current.length,t.lastUpdate=Date.now()}},actions:{getPairs:function(t){var e=t.dispatch;return new Promise(function(t,n){wn("getpairs").then(function(t){return t.json()}).then(function(n){e("cleanPairs",n.data),t(n)}).catch(function(t){n(t)})})},cleanPairs:function(t,e){var n=t.commit,r=t.rootState,o=r.user.id;e.forEach(function(t){t.users.forEach(function(e){if(e["id"]==o){var n=t.users.indexOf(e);t.users.splice(n,1)}})}),n("updatePairs",e)}},getters:{pairs:function(t){return t.current},pairs_quantity:function(t){return t.quantity},pairsLastUpdate:function(t){return t.lastUpdate}}},En={state:{quantity:0,unread_quantity:0,current:{},lastUpdate:0},mutations:{updateMessages:function(t,e){t.current=e,t.quantity=t.current.length,t.lastUpdate=Date.now()},addMessage:function(t,e){t.current.push(e),t.quantity=t.current.length}},actions:{postMessage:function(t,e){var n=t.dispatch;return new Promise(function(t,r){wn("postmessage",e).then(function(t){return t.json()}).then(function(e){n("cleanPairs",e.data),t(e)}).catch(function(t){r(t)})})}},getters:{messages:function(t){return t.current},messages_quantity:function(t){return t.quantity},messagesLastUpdate:function(t){return t.lastUpdate}}},Mn=n("768b"),qn=(n("ffc1"),{state:{notificationText:""},mutations:{setNotification:function(t,e){t.notificationText=e}},actions:{flashNotification:function(t,e){var n=t.commit;Object.entries(e).forEach(function(t){var e=Object(Mn["a"])(t,2),r=(e[0],e[1]);return n("setNotification",r)})}},getters:{notification:function(t){return t.notificationText}}}),Cn={state:{darkMode:!1},mutations:{setDarkMode:function(t){t.darkMode=!t.darkMode}},getters:{darkMode:function(t){return t.darkMode}}},Nn={state:{body:"You'd better change me !",letters:[],settings:""},mutations:{updateGuestBody:function(t,e){t.body=e},updateGuestSettings:function(t,e){t.settings=e},updateGuestLetters:function(t,e){t.letters=e},nextLetter:function(t){t.letters.length>0&&t.letters.splice(0,1)}},actions:{getLetters:function(t,e){var n=t.commit;return new Promise(function(t,r){n("updateGuestBody",e.body),wn("getletters",JSON.stringify(e)).then(function(t){return t.json()}).then(function(e){n("updateGuestLetters",e.data),t(e)}).catch(function(t){r(t)})})},getLettersByReadability:function(t,e){var n=t.commit;return new Promise(function(t,r){n("updateGuestBody",e.body),wn("getlettersbyreadability",JSON.stringify(e)).then(function(t){return t.json()}).then(function(e){n("updateGuestLetters",e.data),t(e)}).catch(function(t){r(t)})})},getLettersBySentiment:function(t,e){var n=t.commit;return new Promise(function(t,r){n("updateGuestBody",e.body),wn("getlettersbysentiment",JSON.stringify(e)).then(function(t){return t.json()}).then(function(e){n("updateGuestLetters",e.data),t(e)}).catch(function(t){r(t)})})}},getters:{guest_body:function(t){return t.body},guest_letters:function(t){return t.letters},guest_settings:function(t){return t.settings}}};r["default"].use(hn["a"]);var Bn=new bn["a"]({key:"bafouille",storage:window.localStorage}),Tn=new hn["a"].Store({modules:{auth:kn,user:xn,profiles:Sn,pairs:Ln,messages:En,notifications:qn,configuration:Cn,guest:Nn},state:{},mutations:{},actions:{},getters:{},plugins:[Bn.plugin]}),Un=n("9483");Object(Un["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("bf40");var Dn=n("2ead"),In=n.n(Dn);n("5363");r["default"].use(a.a,In.a,{iconfont:"mdi"}),r["default"].config.productionTip=!1,new r["default"]({router:gn,store:Tn,render:function(t){return t(O)}}).$mount("#app")},"5a85":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var r=n("5e27"),o=n.n(r);o.a},"5e27":function(t,e,n){},"5e37":function(t,e,n){},"5eb2":function(t,e,n){},"77bb":function(t,e,n){"use strict";var r=n("ebc1"),o=n.n(r);o.a},"8ccb":function(t,e,n){"use strict";var r=n("0400"),o=n.n(r);o.a},"933d":function(t,e,n){},"9efa":function(t,e,n){"use strict";var r=n("933d"),o=n.n(r);o.a},aa17:function(t,e,n){t.exports=n.p+"img/bafouille.5a5c9d62.svg"},acac:function(t,e,n){"use strict";var r=n("5eb2"),o=n.n(r);o.a},bef0:function(t,e,n){"use strict";var r=n("5e37"),o=n.n(r);o.a},c339:function(t,e,n){"use strict";var r=n("4a96"),o=n.n(r);o.a},d0bb:function(t,e,n){},ebc1:function(t,e,n){},f3f4:function(t,e,n){}});
//# sourceMappingURL=app.2274198a.js.map